---
http_interactions:
- request:
    method: delete
    uri: https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic <OMITTED AUTH HEADER>
      Connection:
      - close
      Host:
      - us13.api.mailchimp.com
      User-Agent:
      - http.rb/2.0.2
  response:
    status:
      code: 204
      message: No Content
    headers:
      Server:
      - nginx
      Content-Type:
      - application/json; charset=utf-8
      Content-Length:
      - '0'
      X-Request-Id:
      - 05bc51eb-c38c-4fd6-b37e-8554ad976cb1
      Date:
      - Tue, 26 Jul 2016 18:56:52 GMT
      Connection:
      - close
      Set-Cookie:
      - _AVESTA_ENVIRONMENT=prod; path=/
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Tue, 26 Jul 2016 18:56:52 GMT
- request:
    method: put
    uri: https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2
    body:
      encoding: UTF-8
      string: '{"id":"2","title":"Product #1 - 9829 Size: S","sku":"SKU-1","price":19.99,"visiiblity":true,"url":"http://www.example.com/products/product-1-9829"}'
    headers:
      Authorization:
      - Basic <OMITTED AUTH HEADER>
      Connection:
      - close
      Content-Type:
      - application/json; charset=UTF-8
      Host:
      - us13.api.mailchimp.com
      User-Agent:
      - http.rb/2.0.2
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      Server:
      - nginx
      Content-Type:
      - application/problem+json; charset=utf-8
      Content-Length:
      - '250'
      X-Request-Id:
      - 797a7fc7-eb05-43b9-af8e-a25fb9d500ce
      Link:
      - <https://us13.api.mailchimp.com/schema/3.0/ProblemDetailDocument.json>; rel="describedBy"
      Date:
      - Tue, 26 Jul 2016 18:56:52 GMT
      Connection:
      - close
      Set-Cookie:
      - _AVESTA_ENVIRONMENT=prod; path=/
    body:
      encoding: UTF-8
      string: '{"type":"http://developer.mailchimp.com/documentation/mailchimp/guides/error-glossary/","title":"Parent
        Product Does Not Exist","status":400,"detail":"The parent product must already
        exist in order to use PUT on the Variants endpoint.","instance":""}'
    http_version: 
  recorded_at: Tue, 26 Jul 2016 18:56:52 GMT
- request:
    method: post
    uri: https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products
    body:
      encoding: UTF-8
      string: '{"id":"1","handle":"product-1-9829","title":"Product #1 - 9829","description":"As
        seen on TV!","published_at_foreign":"2015-07-26T18:56:50Z","variants":[{"id":"1","title":"Product
        #1 - 9829","sku":"SKU-2","price":19.99,"visiiblity":true,"url":"http://www.example.com/products/product-1-9829"},{"id":"2","title":"Product
        #1 - 9829 Size: S","sku":"SKU-1","price":19.99,"visiiblity":true,"url":"http://www.example.com/products/product-1-9829"}]}'
    headers:
      Authorization:
      - Basic <OMITTED AUTH HEADER>
      Connection:
      - close
      Content-Type:
      - application/json; charset=UTF-8
      Host:
      - us13.api.mailchimp.com
      User-Agent:
      - http.rb/2.0.2
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Content-Type:
      - application/json; charset=utf-8
      Content-Length:
      - '3672'
      Vary:
      - Accept-Encoding
      X-Request-Id:
      - 450a2e9a-5a46-487e-8f7c-6d664a473689
      Link:
      - <https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Instance.json>;
        rel="describedBy"
      Date:
      - Tue, 26 Jul 2016 18:56:52 GMT
      Connection:
      - close
      Set-Cookie:
      - _AVESTA_ENVIRONMENT=prod; path=/
    body:
      encoding: UTF-8
      string: '{"id":"1","title":"Product #1 - 9829","handle":"product-1-9829","url":"","description":"As
        seen on TV!","type":"","vendor":"","image_url":"","variants":[{"id":"1","title":"Product
        #1 - 9829","url":"http://www.example.com/products/product-1-9829","sku":"SKU-2","price":19.99,"inventory_quantity":0,"image_url":"","backorders":"","visibility":"","created_at":"2016-07-26T18:56:52+00:00","updated_at":"2016-07-26T18:56:52+00:00","_links":[{"rel":"self","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"parent","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Collection.json"},{"rel":"update","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1","method":"PATCH","schema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"upsert","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1","method":"PUT","schema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"delete","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1","method":"DELETE"}]},{"id":"2","title":"Product
        #1 - 9829 Size: S","url":"http://www.example.com/products/product-1-9829","sku":"SKU-1","price":19.99,"inventory_quantity":0,"image_url":"","backorders":"","visibility":"","created_at":"2016-07-26T18:56:52+00:00","updated_at":"2016-07-26T18:56:52+00:00","_links":[{"rel":"self","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"parent","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Collection.json"},{"rel":"update","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2","method":"PATCH","schema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"upsert","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2","method":"PUT","schema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"delete","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2","method":"DELETE"}]}],"published_at_foreign":"2015-07-26T18:56:50+00:00","_links":[{"rel":"self","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Instance.json"},{"rel":"parent","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Collection.json"},{"rel":"delete","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1","method":"DELETE"},{"rel":"variants","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Collection.json"}]}'
    http_version: 
  recorded_at: Tue, 26 Jul 2016 18:56:52 GMT
- request:
    method: put
    uri: https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2
    body:
      encoding: UTF-8
      string: '{"id":"2","title":"Product #1 - 9829 Size: S","sku":"SKU-1","price":19.99,"visiiblity":true,"url":"http://www.example.com/products/product-1-9829"}'
    headers:
      Authorization:
      - Basic <OMITTED AUTH HEADER>
      Connection:
      - close
      Content-Type:
      - application/json; charset=UTF-8
      Host:
      - us13.api.mailchimp.com
      User-Agent:
      - http.rb/2.0.2
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Content-Type:
      - application/json; charset=utf-8
      Content-Length:
      - '1337'
      Vary:
      - Accept-Encoding
      X-Request-Id:
      - 34d713d9-757e-4f14-9ea6-f0a5f7e33afb
      Link:
      - <https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json>;
        rel="describedBy"
      Date:
      - Tue, 26 Jul 2016 18:56:52 GMT
      Connection:
      - close
      Set-Cookie:
      - _AVESTA_ENVIRONMENT=prod; path=/
    body:
      encoding: UTF-8
      string: '{"id":"2","title":"Product #1 - 9829 Size: S","url":"http://www.example.com/products/product-1-9829","sku":"SKU-1","price":19.99,"inventory_quantity":0,"image_url":"","backorders":"","visibility":"","created_at":"2016-07-26T18:56:52+00:00","updated_at":"2016-07-26T18:56:52+00:00","_links":[{"rel":"self","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"parent","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Collection.json"},{"rel":"update","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2","method":"PATCH","schema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"upsert","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2","method":"PUT","schema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"delete","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2","method":"DELETE"}]}'
    http_version: 
  recorded_at: Tue, 26 Jul 2016 18:56:52 GMT
- request:
    method: get
    uri: https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic <OMITTED AUTH HEADER>
      Connection:
      - close
      Host:
      - us13.api.mailchimp.com
      User-Agent:
      - http.rb/2.0.2
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Content-Type:
      - application/json; charset=utf-8
      Content-Length:
      - '3672'
      Vary:
      - Accept-Encoding
      X-Request-Id:
      - 8e49e2f9-826f-46e3-b7b2-5be93704656b
      Link:
      - <https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Instance.json>;
        rel="describedBy"
      Date:
      - Tue, 26 Jul 2016 18:56:52 GMT
      Connection:
      - close
      Set-Cookie:
      - _AVESTA_ENVIRONMENT=prod; path=/
    body:
      encoding: UTF-8
      string: '{"id":"1","title":"Product #1 - 9829","handle":"product-1-9829","url":"","description":"As
        seen on TV!","type":"","vendor":"","image_url":"","variants":[{"id":"1","title":"Product
        #1 - 9829","url":"http://www.example.com/products/product-1-9829","sku":"SKU-2","price":19.99,"inventory_quantity":0,"image_url":"","backorders":"","visibility":"","created_at":"2016-07-26T18:56:52+00:00","updated_at":"2016-07-26T18:56:52+00:00","_links":[{"rel":"self","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"parent","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Collection.json"},{"rel":"update","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1","method":"PATCH","schema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"upsert","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1","method":"PUT","schema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"delete","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1","method":"DELETE"}]},{"id":"2","title":"Product
        #1 - 9829 Size: S","url":"http://www.example.com/products/product-1-9829","sku":"SKU-1","price":19.99,"inventory_quantity":0,"image_url":"","backorders":"","visibility":"","created_at":"2016-07-26T18:56:52+00:00","updated_at":"2016-07-26T18:56:52+00:00","_links":[{"rel":"self","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"parent","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Collection.json"},{"rel":"update","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2","method":"PATCH","schema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"upsert","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2","method":"PUT","schema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"delete","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2","method":"DELETE"}]}],"published_at_foreign":"2015-07-26T18:56:50+00:00","_links":[{"rel":"self","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Instance.json"},{"rel":"parent","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Collection.json"},{"rel":"delete","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1","method":"DELETE"},{"rel":"variants","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Collection.json"}]}'
    http_version: 
  recorded_at: Tue, 26 Jul 2016 18:56:52 GMT
- request:
    method: get
    uri: https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic <OMITTED AUTH HEADER>
      Connection:
      - close
      Host:
      - us13.api.mailchimp.com
      User-Agent:
      - http.rb/2.0.2
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Content-Type:
      - application/json; charset=utf-8
      Content-Length:
      - '1337'
      Vary:
      - Accept-Encoding
      X-Request-Id:
      - a7d789ca-97ba-4bad-9456-6965d4eeb98d
      Link:
      - <https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json>;
        rel="describedBy"
      Date:
      - Tue, 26 Jul 2016 18:56:53 GMT
      Connection:
      - close
      Set-Cookie:
      - _AVESTA_ENVIRONMENT=prod; path=/
    body:
      encoding: UTF-8
      string: '{"id":"2","title":"Product #1 - 9829 Size: S","url":"http://www.example.com/products/product-1-9829","sku":"SKU-1","price":19.99,"inventory_quantity":0,"image_url":"","backorders":"","visibility":"","created_at":"2016-07-26T18:56:52+00:00","updated_at":"2016-07-26T18:56:52+00:00","_links":[{"rel":"self","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"parent","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1","method":"GET","targetSchema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Collection.json"},{"rel":"update","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2","method":"PATCH","schema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"upsert","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2","method":"PUT","schema":"https://us13.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"delete","href":"https://us13.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/2","method":"DELETE"}]}'
    http_version: 
  recorded_at: Tue, 26 Jul 2016 18:56:53 GMT
recorded_with: VCR 3.0.3
